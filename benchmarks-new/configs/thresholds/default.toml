# Default performance regression thresholds for BitNet-rs
# Values are in percentage points (e.g., 15.0 = 15% regression threshold)

[quantization]
# CPU quantization thresholds - tighter since these are compute-bound
i2s_cpu = 15.0
tl1_cpu = 15.0
tl2_cpu = 15.0

# GPU quantization thresholds - looser due to GPU variance
i2s_gpu = 20.0
tl1_gpu = 20.0
tl2_gpu = 20.0

# Round-trip operations are more complex, allow higher variance
round_trip_cpu = 20.0
round_trip_gpu = 25.0

[inference]
# Prefill is mostly compute-bound, expect consistent performance
prefill_latency = 20.0

# Decode involves cache misses and can be more variable
decode_latency = 15.0

# End-to-end includes tokenization and multiple phases
end_to_end = 25.0

# Memory usage should be very stable
memory_usage = 30.0

[kernels]
# Matrix operations should be very consistent
matmul = 10.0

# Mixed precision may have driver-dependent variation
mixed_precision = 20.0

# SIMD operations should be deterministic
simd = 10.0

[ci]
# CI environments can be more variable, use looser thresholds
multiplier = 1.5  # Apply 1.5x to all thresholds in CI

[overrides]
# Specific test case overrides
# Format: "benchmark_name" = threshold_percent
"I2S_block_size" = 10.0  # Block size optimization is very stable
"compression_analysis" = 30.0  # Compression ratios less critical for performance
